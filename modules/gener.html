

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>gener &mdash; T2GEORES  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="geometry" href="geometry.html" />
    <link rel="prev" title="Welcome to T2GEORES’s documentation!" href="../index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> T2GEORES
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">gener</a></li>
<li class="toctree-l1"><a class="reference internal" href="geometry.html">geometry</a></li>
<li class="toctree-l1"><a class="reference internal" href="it2Obs.html">it2Obs</a></li>
<li class="toctree-l1"><a class="reference internal" href="model_plots.html">model_plots</a></li>
<li class="toctree-l1"><a class="reference internal" href="output.html">output</a></li>
<li class="toctree-l1"><a class="reference internal" href="regeo_mesh.html">regeo_mesh</a></li>
<li class="toctree-l1"><a class="reference internal" href="run.html">run</a></li>
<li class="toctree-l1"><a class="reference internal" href="t2geores_functions.html">t2geores_functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="txt2sqlite.html">txt2sqlite</a></li>
<li class="toctree-l1"><a class="reference internal" href="writer.html">writer</a></li>
<li class="toctree-l1"><a class="reference internal" href="formats.html">formats</a></li>
<li class="toctree-l1"><a class="reference internal" href="report.html">report</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">T2GEORES</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>gener</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/modules/gener.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-gener">
<span id="gener"></span><h1>gener<a class="headerlink" href="#module-gener" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="gener.create_well_flow">
<code class="descclassname">gener.</code><code class="descname">create_well_flow</code><span class="sig-paren">(</span><em>flow_times</em>, <em>input_dictionary</em>, <em>include_gener=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gener.html#create_well_flow"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gener.create_well_flow" title="Permalink to this definition">¶</a></dt>
<dd><p>It creates a mh text file for every well on the input dictionary. These wells need to have been defined on the general input_dictionary before the mesh was created</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>flow_times</strong> (<em>dictionary</em>) – e.g. ‘WELL-1’ : [[datetime(2029,1,1,0,0,0),datetime(2080,1,1,0,0,0)]  #Initial day of operation , [1.5,1.5]  #Steam value for every time step,   [15,15]#Brine value for every time step, [1100,1100] #Flowing enthalpy value for every time step , [7,7]  #WHP, ‘P’  #P for producer and I for injector],</li>
<li><strong>include_gener</strong> (<em>bool</em>) – If True it creates a file GENER_MAKEUP, from which the wells define on this section can be included on the TOUGH2 input file and
the data from newly generated file is added/overwritten to the sqlite databse</li>
<li><strong>input_dictionary</strong> (<em>dictionary</em>) – Dictionary containing the path and name of database and the path of the input file</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><em>file</em> – {well}_mh.dat: it contains the dictionary information on a text file format</li>
<li><em>file</em> – GENER_MAKEUP: on ../model/t2/t2/SOURCES</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This function can be use to generate production scenarios on a calibrated model</p>
</div>
</dd></dl>

<dl class="function">
<dt id="gener.def_gener_selector">
<code class="descclassname">gener.</code><code class="descname">def_gener_selector</code><span class="sig-paren">(</span><em>block</em>, <em>key</em>, <em>geners</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gener.html#def_gener_selector"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gener.def_gener_selector" title="Permalink to this definition">¶</a></dt>
<dd><p>If gener block is not completely define, the default value is use</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>block</strong> (<em>str</em>) – Referes to the mesh</li>
<li><strong>key</strong> (<em>str</em>) – Referes to a GENER parameters</li>
<li><strong>geners</strong> (<em>dictionary</em>) – Contains the neccesary information to define a sink/source. g.e. ‘DA110’:{‘SL’:’GEN’,’NS’:10,’TYPE’:’MASS’,’GX’:1,’EX’:1.1E6},</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><em>value</em> – float: the selecte value for a parameter</li>
<li><em>def_value</em> – bool: if True the default value is used</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition attention">
<p class="first admonition-title">Attention</p>
<p class="last">No data is needed from sqlite</p>
</div>
</dd></dl>

<dl class="function">
<dt id="gener.plot_makeup_wells">
<code class="descclassname">gener.</code><code class="descname">plot_makeup_wells</code><span class="sig-paren">(</span><em>flow_times</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gener.html#plot_makeup_wells"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gener.plot_makeup_wells" title="Permalink to this definition">¶</a></dt>
<dd><p>It plots a defined scenario of production including injector wells</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>flow_times</strong> (<em>dictionary</em>) – e.g. ‘WELL-1’ : [[datetime(2029,1,1,0,0,0),datetime(2080,1,1,0,0,0)]  #Initial day of operation , [1.5,1.5]  #Steam value for every time step,   [15,15]#Brine value for every time step, [1100,1100] #Flowing enthalpy value for every time step , [7,7]  #WHP, ‘P’  #P for producer and I for injector],</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">wells_flow: horizontal histogram</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">plot</td>
</tr>
</tbody>
</table>
<div class="admonition attention">
<p class="first admonition-title">Attention</p>
<p class="last">No data is needed from sqlite</p>
</div>
</dd></dl>

<dl class="function">
<dt id="gener.write_gener_from_sqlite">
<code class="descclassname">gener.</code><code class="descname">write_gener_from_sqlite</code><span class="sig-paren">(</span><em>type_flow</em>, <em>forecast</em>, <em>input_dictionary</em>, <em>t2_ver</em>, <em>make_up=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gener.html#write_gener_from_sqlite"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gener.write_gener_from_sqlite" title="Permalink to this definition">¶</a></dt>
<dd><p>It is the main function on this modulo, it writes the GENER section from the mh input files</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>input_dictionary</strong> (<em>dictionary</em>) – Dictionary containing the path and name of database and the path of the input file and the reference date on datime format</li>
<li><strong>wells</strong> (<em>array</em>) – Arreglo con nombre de pozos a ser incluidos en la etapa de produccion</li>
<li><strong>type_flow</strong> (<em>str</em>) – It defines the type of flow on the well. ‘constant’ adds a zero flow before the start of well production at -infinity and keeps the value of the flow to the infinity, ‘shutdown’ closes the well after the last record, ‘invariable’
‘invariable’ writes the GENER section for every well as it is written on the input file</li>
<li><strong>forecast</strong> (<em>bool</em>) – If true the data is written on the sqlite database</li>
<li><strong>make_up</strong> (<em>bool</em>) – If True the output file is written on GENER_MAKEUP. Otherwise, on GENER_PROD</li>
<li><strong>t2_ver</strong> (<em>int</em>) – TOUGH2 version if lower than 7, conventional 4 columns for GENER is used. For 7 or higher, DATES are used.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">GENER_PROD:  a text file on ‘../model/t2/sources/’</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">file</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition attention">
<p class="first admonition-title">Attention</p>
<p class="last">All the information comes from the sqlite databse. If there are some other sources or sinks define with the prefix SRC, they should be written first on the database
by executing write_geners_to_txt_and_sqlite(). Thus, the next correlatative will be +1 for the first well</p>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">write_gener_from_sqlite</span><span class="p">(</span><span class="n">input_dictionary</span><span class="p">,</span><span class="n">type_flow</span><span class="o">=</span><span class="s1">&#39;constant&#39;</span><span class="p">,</span><span class="n">t2_ver</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span><span class="n">forecast</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="gener.write_geners_to_txt_and_sqlite">
<code class="descclassname">gener.</code><code class="descname">write_geners_to_txt_and_sqlite</code><span class="sig-paren">(</span><em>input_dictionary</em>, <em>geners</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gener.html#write_geners_to_txt_and_sqlite"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gener.write_geners_to_txt_and_sqlite" title="Permalink to this definition">¶</a></dt>
<dd><p>It writes the GENER section for the constant sink/sources from the model  on a text file and at the sqlite database</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>input_dictionary</strong> (<em>dictionary</em>) – Dictionary containing the path and name of database and the path of the input file</li>
<li><strong>geners</strong> (<em>dictionary</em>) – Contains the neccesary information to define every constant sink/source on the model. g.e.’DA110’:{‘SL’:’GEN’,’NS’:10,’TYPE’:’MASS’,’GX’:1,’EX’:1.1E6}</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">GENER_SOURCES: text file on  ‘../model/t2/sources/GENER_SOURCES’</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">file</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition attention">
<p class="first admonition-title">Attention</p>
<p class="last">Every time the function is executed it overwrites the file</p>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">write_geners_to_txt_and_sqlite</span><span class="p">(</span><span class="n">input_dictionary</span><span class="p">,</span><span class="n">geners</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="gener.write_t2_format_gener">
<code class="descclassname">gener.</code><code class="descname">write_t2_format_gener</code><span class="sig-paren">(</span><em>var_array</em>, <em>time_array</em>, <em>var_type</em>, <em>var_enthalpy</em>, <em>type_flow</em>, <em>input_dictionary</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gener.html#write_t2_format_gener"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gener.write_t2_format_gener" title="Permalink to this definition">¶</a></dt>
<dd><p>It generaates the block of time, flow and enthalpy for each flow</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>var_array</strong> (<em>array</em>) – Contains the flow data</li>
<li><strong>time_array</strong> (<em>array</em>) – Contains the time data on datetime format</li>
<li><strong>input_dictionary</strong> (<em>dictionary</em>) – It contains the reference date on datatime format</li>
<li><strong>var_type</strong> (<em>str</em>) – It indicates the type of well producer ‘R’ or injector ‘R’</li>
<li><strong>var_enthalpy</strong> (<em>array</em>) – Contains the flowing enthalpy data</li>
<li><strong>type_flow</strong> (<em>str</em>) – It defines the type of flow on the well. ‘constant’ adds a zero flow before the start of well production at -infinity and keeps the value of the flow to the infinity, ‘shutdown’ closes the well after the last record, ‘invariable’
‘invariable’ writes the GENER section for every well as it is written on the input file</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><em>str</em> – string_P: contains the defined format for the GENER section for a particular producer well.</li>
<li><em>str</em> – string_R : contains the defined format for the GENER section for a particular injector well.</li>
<li><em>int</em> – cnt_P : defines the number of flows records on every string_P for each producer well</li>
<li><em>int</em> – cnt_R : defines the number of flows records on every string_R for each injector well</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition attention">
<p class="first admonition-title">Attention</p>
<p class="last">The legth of  var_array, time_array and var_enthalpy must be the same</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For every well a valur of flow zero is set on time -1E50 and before the first record. This function is used by write_gener_from_sqlite() as it does not produce any output file by itself.</p>
</div>
</dd></dl>

<dl class="function">
<dt id="gener.write_t2_format_gener_dates">
<code class="descclassname">gener.</code><code class="descname">write_t2_format_gener_dates</code><span class="sig-paren">(</span><em>var_array</em>, <em>time_array</em>, <em>var_type</em>, <em>var_enthalpy</em>, <em>type_flow</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gener.html#write_t2_format_gener_dates"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gener.write_t2_format_gener_dates" title="Permalink to this definition">¶</a></dt>
<dd><p>It generaates the block of time, flow and enthalpy for each flow on datetime format</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>var_array</strong> (<em>array</em>) – Contains the flow data</li>
<li><strong>time_array</strong> (<em>array</em>) – Contains the time data on datetime format</li>
<li><strong>var_type</strong> (<em>str</em>) – It indicates the type of well producer ‘R’ or injector ‘R’</li>
<li><strong>var_enthalpy</strong> (<em>array</em>) – Contains the flowing enthalpy data</li>
<li><strong>type_flow</strong> (<em>str</em>) – It defines the type of flow on the well. ‘constant’ adds a zero flow before the start of well production at -infinity and keeps the value of the flow to the infinity, ‘shutdown’ closes the well after the last record, ‘invariable’
‘invariable’ writes the GENER section for every well as it is written on the input file</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="geometry.html" class="btn btn-neutral float-right" title="geometry" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../index.html" class="btn btn-neutral float-left" title="Welcome to T2GEORES’s documentation!" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Erick Jimenez

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>